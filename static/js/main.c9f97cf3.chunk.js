(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{83:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n(2),r=n.n(s),i=n(28),a=n.n(i),l=n(19),o=(n(83),n(11)),d=n(25),j=n(101),m=n(100);function b(e){var t=e.children;return Object(c.jsx)("div",{className:"header",children:t})}var h=n(70);function O(e){var t=e.children,n=e.classes;return Object(c.jsx)("div",{className:Object(h.a)(["header__content",n]),children:t})}function u(e){var t=e.children,n=e.headerComponent;return Object(c.jsxs)("div",{className:"wrapper",children:[n&&n({}),Object(c.jsx)("div",{className:"container",children:t})]})}O.defaultProps={classes:""},u.defaultProps={headerComponent:function(){return Object(c.jsx)(b,{children:Object(c.jsx)(O,{children:Object(c.jsx)("div",{className:"header__inner flex-justify-content-center",children:Object(c.jsx)("div",{className:"header__title",children:"News reader"})})})})}};var x=n(55),v=n(34),f=n(71),g=n.n(f);function _(){return Object(c.jsx)("div",{className:"loader"})}function p(){return Object(c.jsx)("div",{className:"overlay",children:Object(c.jsx)("div",{className:"d-flex flex-align-items-center flex-justify-content-center h-100",children:Object(c.jsx)(_,{})})})}function w(e){var t=e.loading,n=void 0!==t&&t,s=e.data,r=void 0===s?{newsList:{totalRows:999,rows:[]}}:s,i=e.fetchMore,a=void 0===i?function(){}:i,l=r.newsList;return Object(c.jsx)("div",{className:"article-list",children:n?Object(c.jsx)(p,{}):Object(c.jsx)(g.a,{loadMore:function(){a({variables:{skip:l.rows.length},updateQuery:function(e,t){var n=t.fetchMoreResult;return n?Object(v.a)(Object(v.a)({},e),{},{newsList:Object(v.a)(Object(v.a)({},e.newsList),{},{rows:[].concat(Object(x.a)(e.newsList.rows),Object(x.a)(n.newsList.rows))})}):e}})},hasMore:!(l.rows.length===l.totalRows),loader:Object(c.jsx)("div",{className:"text-align-center",children:_()}),children:Object(c.jsx)("div",{className:"f-grid",children:l.rows.map((function(e,t){return Object(c.jsx)("div",{className:0===t?"f-grid-col-12 f-grid-col-lg-12":"f-grid-col-6 f-grid-col-lg-4",children:Object(c.jsxs)(d.b,{className:"article-list__item",to:{pathname:"/article/".concat(encodeURI(e.id))},children:[Object(c.jsx)("div",{className:"article-list__img",children:Object(c.jsx)("img",{src:e.img,alt:e.title})}),Object(c.jsx)("h2",{className:"article-list__title",children:e.title})]})},e.id)}))})})})}w.defaultProps={loading:!1,data:{newsList:{totalRows:999,rows:[]}},fetchMore:function(){}};var N=n(43);function k(){var e=Object(N.a)(["\n  query getArticlesList($skip: Int!, $limit: Int!) {\n    newsList(skip: $skip, limit: $limit) {\n      totalRows\n      rows {\n        id\n        title\n        img\n      }\n    }\n  }\n"]);return k=function(){return e},e}var y=Object(l.gql)(k());function I(){var e=Object(l.useQuery)(y,{variables:{limit:5,skip:0}}),t=e.loading,n=e.error,s=e.data,r=e.fetchMore;return n&&console.error(n),Object(c.jsx)(u,{children:Object(c.jsx)("div",{children:Object(c.jsx)(w,{loading:t,data:s,fetchMore:r})})})}function M(){var e=Object(N.a)(["\n  query getArticlesList($id: ID!) {\n    newsItem(id: $id) {\n      id\n      title\n      content\n      url\n      img\n      comments {\n        id\n        email\n        createdDate\n        content\n      }\n    }\n  }\n"]);return M=function(){return e},e}var L=Object(l.gql)(M()),C=n(76);function P(e){var t=e.comments;return Object(c.jsxs)("div",{className:"comments",children:[Object(c.jsx)("div",{className:"comments__title",children:"Comments"}),Object(c.jsx)("div",{className:"comments__list",children:t.map((function(e){return Object(c.jsxs)("div",{className:"comment__item",children:[Object(c.jsx)("div",{className:"comment__author mar-bottom-5",children:e.email}),Object(c.jsx)("div",{className:"comment__content mar-bottom-5",children:e.content}),Object(c.jsx)("div",{className:"comment__date",children:C.unix(e.createdDate/1e3).format("DD.MM.YYYY")})]},e.id)}))})]})}function R(e){var t=e.loading,n=e.data.newsItem;return Object(c.jsx)("div",{className:"single-article",children:t?Object(c.jsx)(p,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"single-article__title",children:n.title}),Object(c.jsx)("div",{className:"single-article__img",children:Object(c.jsx)("img",{src:n.img,alt:n.title})}),Object(c.jsx)("div",{className:"single-article__content",children:n.content}),Object(c.jsx)("div",{className:"single-article__comments clear",children:Object(c.jsx)(P,{comments:n.comments})})]})})}R.defaultProps={loading:!1,data:{newsItem:{}}};var $=n(52),q=n(54);function A(e){var t=e.loading,n=e.data,s=(void 0===n?{newsItem:{}}:n).newsItem;return Object(c.jsx)(c.Fragment,{children:t?null:Object(c.jsx)(b,{children:Object(c.jsx)(O,{children:Object(c.jsxs)("div",{className:"header__inner",children:[Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)($.a,{icon:q.a})}),Object(c.jsx)("div",{className:"header__title",children:"News reader"}),Object(c.jsx)("a",{href:s.url,target:"_blank",rel:"noreferrer",children:Object(c.jsx)($.a,{icon:q.b})})]})})})})}function D(e){var t=e.match;Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]);var n=Object(l.useQuery)(L,{variables:{id:t.params.id}}),r=n.loading,i=n.error,a=n.data;return i&&console.error(i),Object(c.jsx)(u,{headerComponent:function(){return Object(c.jsx)(A,{loading:r,data:a})},children:Object(c.jsx)(R,{loading:r,data:a})})}function Y(){return Object(c.jsx)(u,{children:Object(c.jsxs)("div",{className:"mistake",children:[Object(c.jsx)("div",{className:"mistake__error",children:"404"}),Object(c.jsx)(d.b,{className:"mistake__link",to:"/",children:"Go home"})]})})}A.defaultProps={loading:!1,data:{newsItem:{}}};var Q=Object(o.f)((function(e){var t=e.location;return Object(c.jsx)(j.a,{children:Object(c.jsx)(m.a,{classNames:"slide-righttoleft",timeout:500,children:Object(c.jsxs)(o.c,{location:t,children:[Object(c.jsx)(o.a,{exact:!0,path:"/",component:I}),Object(c.jsx)(o.a,{path:"/article/:id",component:D}),Object(c.jsx)(o.a,{component:Y})]})},t.key)})}));function E(){return Object(c.jsx)(d.a,{basename:"/news-reader-react",children:Object(c.jsx)(Q,{})})}function F(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(E,{})})}var J=new l.ApolloClient({uri:"https://news-reader.stagnationlab.dev/graphql",cache:new l.InMemoryCache});a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.ApolloProvider,{client:J,children:Object(c.jsx)(F,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.c9f97cf3.chunk.js.map